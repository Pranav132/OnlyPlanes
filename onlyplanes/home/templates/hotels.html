{% extends "layout.html" %}
{% load static %}

{% block links %}
<link rel="stylesheet" href="{% static 'css/style-hotels.css' %}">
{% endblock %}

{% block title %}
Book Hotels
{% endblock %}

{% block content %}
<div class="wrapperproducts">

    <div class="product-title">
      HOTELS 
    </div>

    <br>

    <div class="searchwrap">
<form class = "form" action="{% url 'hotel_search' %}">
  <label for="search" class = "label">Search</label>
  <input id="search" type="search" pattern=".*\S.*" required name = "searched" class = "input">
  <span class="caret"></span>
</form>
    </div>
    

    <br>
    <br>
    <br>
  {% if hotels %}
  <section class = "cards">
    <!-- Rendering every product and data -->
    {% for hotel in hotels %}
      <div class="card">
        <div class="card_image-container">
            <img src = "{{ hotel.exterior_picture.url }}">
        </div>
        <div class="card_content">
            <p class = "card_title text--medium">
                {{ hotel.name }}
            </p>
            <div class="card_info">
                <span class="stars">
                    {% for i in '012345'|make_list %}
                        {% if forloop.counter <= hotel.starrating %}
                            <i class="bi bi-star-fill" style = "color: orange; text-shadow: 2px 2px 2px #000;font-size:1em;"></i>
                        {% endif %}
                    {% endfor %}
                </span>
                {% for room in rooms %}
                {% if room.hotelcategory == hotel.category %}
                <div class="content">
                  <p class = "text--medium">{{ hotel.location }}</p>
                  <p class = "text--medium" style = "color: gray;font-size: 0.9em; padding-top: 5%;">From â‚¹{{ room.price }}</p>
                </div>
                {% endif %}
                {% endfor %}
                <a href = "{% url 'eachhotel' hotel_id=hotel.id %}"><button class = "button text-medium">View</button></a>
            </div>
        </div>
    </div>
    </ul>
    {% endfor %} 
  </section>
  {% else %}
  <div class="no" style = "display: grid; place-items: center; height: 100%; font-size: 2em;">No hotels found, please search again!</div>
  {% endif %}
  </main>
  </div>

{% endblock %}